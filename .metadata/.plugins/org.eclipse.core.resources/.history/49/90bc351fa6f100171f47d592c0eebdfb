import generator.TreeNode;
public class Solution38 {

	public static void main(String[] args) {
		TreeNode input = new TreeNode(1);
		input.left = new TreeNode(2);
		recover(input).print();
	}
	public static TreeNode recover(TreeNode root) {
		int[] eles = new int[2];
		TreeNode prev = new TreeNode(Integer.MIN_VALUE);
		inorderTraverse(root, eles, prev);
		int temp = eles[0];
		eles[0] = eles[1];
		eles[1] = temp;
		return root;
	}
		  
	public static void inorderTraverse(TreeNode root, int[] eles, TreeNode prev) {
		if (root == null) {
			return;
		}
		inorderTraverse(root.left, eles, prev);
		if(eles[0] == 0 && prev.key >= root.key) {
			eles[0] = prev.key;
		}
		if(eles[1] == 0 && prev.key >= root.key) {
			eles[1] = prev.key;
		}
		prev = root;
		inorderTraverse(root.right, eles, prev);
	} 
}
