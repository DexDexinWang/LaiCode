import generator.TreeNode;
public class Solution38 {

	public static void main(String[] args) {
		TreeNode input = new TreeNode(1);
		input.left = new TreeNode(2);
		recover(input).print();
	}
	public static TreeNode recover(TreeNode root) {
		int[] eles = new int[2];
		TreeNode prev = new TreeNode(Integer.MIN_VALUE);
		inorderTraverse(root, eles, prev);
		int temp = first.key;
		first.key = second.key;
		second.key = temp;
		return root;
	}
		  
	public static void inorderTraverse(TreeNode root, int[] eles, TreeNode prev) {
		if (root == null) {
			return;
		}
		inorderTraverse(root.left, first, second, prev);
		if(first == null && prev.key >= root.key) {
			first.key = prev.key;
		}
		if(second == null && prev.key >= root.key) {
			second.key = prev.key;
		}
		prev = root;
		inorderTraverse(root.right, first, second, prev);
	} 
}
