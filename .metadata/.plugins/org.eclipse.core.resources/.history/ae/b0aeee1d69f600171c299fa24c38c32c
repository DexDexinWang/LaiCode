import java.util.Comparator;
import java.util.List;
import java.util.PriorityQueue;

import generator.ListNode;

public class Solution4 {

	public static void main(String[] args) {
		// TODO Auto-generated method stub

	}
	
	  //approach: use priorityQueue to order it.
	  public ListNode merge(List<ListNode> listOfLists) {
	    int rows = listOfLists.size();
	    PriorityQueue<ListNode> minHeap = new PriorityQueue<ListNode>(rows,
	      new Comparator<ListNode>() {
	      @Override
	      public int compare(ListNode l1, ListNode l2) {
	        if (l1.value == l2.value) {
	        	return 0;
	        }
	        return l1.value < l2.value ? -1 : 1;
	      }
	    });
	    for (int i = 0; i < rows; i++) {
	      ListNode cur = listOfLists.get(i);
	      if (cur != null) {
	        minHeap.offer(cur);
	      }
	    }
	    
	    ListNode dummy = new ListNode(-1);
	    ListNode current = dummy;
	    
	    while(minHeap.size()!= 0) {
	      current.next = minHeap.poll();
	      current = current.next;
	      if (current.next != null) {
	        minHeap.offer(current.next);
	      }
	    }
	    return dummy.next;
	  }

}
