import generator.TreeNode;

public class Solution3 {
	  //approach: when it traverse each node in any path, and save presum value into a set.
	  public boolean exist(TreeNode root, int target) {
	    Set<Integer> set = new HashSet<Integer>();
	    return exist(root, target, set, 0);
	  }
	  
	  private boolean exist(TreeNode root, int target, Set<Integer> set, int preSum) {
	    if (root == null) {
	      return false;
	    }
	    preSum += root.key;
	    if (set.contains(preSum - target)) {
	      return true;
	    }
	    set.add(preSum);
	    return exist(root.left, target, set, preSum) || exist(root.right, target, set, preSum);
	  }
}
