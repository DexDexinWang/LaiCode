import generator.TreeNode;
import generator.TreeRandom;
public class Solution6 {

	public static void main(String[] args) {
		TreeNode input1 = TreeRandom.treeGenRange(4, null, 1, 10);
		TreeNode input2 = TreeRandom.treeGenRange(1, null, 3, 3);
		TreeNode input3 = TreeRandom.treeGenRange(1, null, 4, 4);
		System.out.println(lowestCommonAncestor(input1, input2, input3));
	}
	
	public static TreeNode lowestCommonAncestor(TreeNode root, TreeNode one, TreeNode two) { 
		if(root == null) {
			return null;
		}
		TreeNode left = lowestCommonAncestor(root.left, one, two);
		TreeNode right = lowestCommonAncestor(root.right, one, two);
		if (left == one && right == two) {
			return root;
		} else if (left != null && right != null) {
			return root;
		}
		return left == null ? right : left;
	}
}
